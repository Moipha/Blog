# 2024.10

## day 4

- 初始化项目
- 完成了基本布局的搭建
- 编写了上边栏的样式
- 实现了主题切换功能

## day 5

- 实现了上边栏的响应式呈现，在手机端会隐藏导航栏
- 编写了首页界面的样式

## day 6

- 编写了左侧边栏的样式
- 添加了主页超链接

## day 8

- 完善了上边栏在滚动条不同状态下的样式

## day 10

- 编写了博客页面的样式

## day 11

- 编写了后台管理界面的样式

## day 12

- 编写了后台管理界面的右边栏样式

## day 22

- 前端全部代码改用 TypeScript
- 使用 node 搭建了后端服务器
- 移动了旧代码的位置

## day 23

- 解决了 ts 模块化导入报错
  - 部分问题由引入时文件路径未添加.ts 导致
  - 引入 interface 或 type 类型的模块时，需添加 type，如 `import type {Request, Response} from 'express'}`
- 添加了 tag 相关的接口
  - body 参数校验中，使用 isIn()来限制参数在具体的枚举中，`body('type').isIn(['blog', 'code', 'general']).withMessage('提供的标签类型无效')`

## day 24

- 编写了 tag 管理页面的样式

## day 25

- 封装了 axios，实现了请求发送
- 编写了 tag 表格界面样式

## day 26

- 编写了弹窗组件和输入框、选择框组件的样式

## day 27

- 编写了表格组件，实现了类似 element ui 中的 el-table 的效果
  - 在 Table 组件中存放 columns 数组，并渲染 slot，同时向后代组件注入注册函数
  - 在 TableColumn 组件中注册，向 columns 数组中传入接收到的 props、slot
  - Table 中接收到 columns，遍历渲染；注册 VNode 组件，渲染 columns 中的 slot
- 后端编写了标签的更新、删除接口，前端实现了对应的功能

```ts
<Table :data="tags">
	<TableColumn label="名称" prop="name" :width="100" />
	<TableColumn label="类型" prop="type" :width="40">
        	<template #="item"> {{ map[item.type] }} </template>
        </TableColumn>
        <TableColumn label="图标" prop="icon" :width="60">
        	<template #="item"> {{ format(item.icon) }} </template>
        </TableColumn>
</Table>
```

## day 28

- 编写了分页组件的样式和功能
  - 通过 Vue3.4 新增的 defineModel 实现了双向绑定
  - 遇到了 option 使用 v-bind 但 value 属性值为字符串的问题。暂未解决

## day 29

- 完善了表格中单元格属性显示
  - 实现了表格中标签图标的转换和显示
  - 实现了创建时间和更新时间的格式化显示
- 完善了新建和修改标签的表单
  - 提供了实时预览图标的 ui
- 完善了分页组件的功能

## day 30

- 编写了博客的后端接口和模型

## day 31

- 编写了博客管理界面的样式
- 添加了新的自定义组件 Switch、Tag
- Table 中新增了可传入属性 align，用于调整 th 和 td 的水平位置

# 2024.11

## day 1

- 编写了面包屑导航栏的样式和功能
- 添加了每个页面中的路由 meta 信息

## day 3

- 重写了 Select 组件，使用 input 和 li 元素来替代了原生的 select 和 option 标签
  - 添加了打开和收起的动画效果
  - 遇到的问题：通过输入框的聚焦和失焦来控制菜单的显示，当点击菜单中的选项时，会先触发失焦事件导致菜单隐藏，无法触发菜单选项的点击事件
  - 问题解决：将点击事件改为 mousedown 事件。mousedown 事件会在 blur 事件之前触发
- Select 组件添加了多选模式

## day 4

- 完成了 Select 组件的重写
  - 现在可以通过 multiple 属性来切换至多选模式
  - 多选模式中可以进行关键词搜索
  - 多选模式可以勾选选项，已勾选的选项会在 input 上显示
- 新增了新建博客的页面
- 引入 bytemd 来实现 markdown 语法的编辑器，重写了其默认的部分样式

## day 5

- 修改了 markdown 编辑器以及 github 主题的部分样式
- 完成了新建博客界面的样式和功能实现
  - 通过深克隆和 store 实现了临时保存的功能
  - 深克隆解决了博客对象的标签数组无法成功缓存的问题
- 实现了 Select 组件的数据回显

## day 6

- 实现了新建博客后的跳转窗口和功能
- 实现了博客管理界面的跳转和删除功能
- 实现了博客修改界面的样式和功能

## day 7

- 编写了博客文章显示界面和博客列表界面的样式
  - 实现了随 scrollTop 动态修改样式的悬浮效果

## day 8

- 继续编写博客界面的样式

## day 9

- 完成了博客界面的样式编写和功能实现
  - 右侧添加了目录，可以点击定位和滑动识别
  - 封面添加了标签列表、阅读时间、字数、阅读次数等信息展示

## day 10

- 完善了博客界面的左右边栏按钮样式以及功能实现
- 实现了博客标题的打字动画效果
- 将目录移至了左侧

## day 11

- 重写了主页的内容
- 编写了关于页面的样式
- 删除了代码页面
- 编写了标签选择页面
- 博客界面添加了评论模块
- 重写了 Footer

## day 12

- 在服务器上部署项目的前后端
  - 前端报错 bytemd 包中有一个类型文件找不到，直接在 ts 配置中忽略了类型检查
  - 后端报错无法编译 ts 文件，安装了 ts-node 并设置了服务端启动命令：`"start:forever": "forever start -c 'node --experimental-loader ts-node/esm' src/index.ts"`
- 出现了 mix-content 问题。后端目前是 http，前端是 https。

## day 13

- 后端引入了 https
- 重新在服务器部署了项目
- 前端
  - 更换了各个界面的封面
  - 博客列表添加了分页管理器，并将博客分组显示
  - 重写了 Select 组件的弹出逻辑：
    - 初始渲染时获取该弹出菜单的高度
    - 每次打开菜单时根据当前高度计算底部是否会超出屏幕范围
    - 根据计算结果判断弹出的方向以及播放的动画

## day 14

- 添加了 lazysizes 插件，实现了图片的懒加载
- 添加了封面的载入效果
- 编写了部分首页的样式

## day 15

- 使用了 keep-alive 标签
  - 使用缓存后，封面只会在初次载入时播放动画
  - 标题的打字效果也只会在初次载入实现；在 onActivated 钩子中重新进行了打字效果的播放
  - 由于 prop 传递异步数据导致的渲染问题，标题文本的效果将使用计时器来延迟播放
- 编写了首页的移动端样式，完善了 pc 端样式；首页引入了分页
- 添加了标签页面
- 编写了管理系统的首页

## day 18

- 解决了使用 keep-alive 以后，切换 blog 页面目录未能及时同步的问题
- 给图片添加了加载动画
- 修改了项目的 icon

## day 20

- 搭建了图片服务器
- 在新建博客界面添加了上传图片的功能

## day 21

- 完善了选择器弹出方向的判断实现逻辑
  - 当 options 未传入时进行窗口高度的获取是错误的，现已修改为在 watch 监听到父组件传入选项信息后再进行窗口高度判断

## day 22

- 实现了上传博客封面的功能

## day 23

- 修改了 cover 组件中 h1 元素的文本阴影效果
- 上传文件添加了进度条效果
- 添加了主题切换时扩散的动画效果，基于::view-transition 实现的
- 解决了 cover 组件中标题打字效果延迟的问题

  - ```js
    onActivated(() => {
      temp.value = ['']
      typeTitle(props.title)
    })

    watchEffect(() => {
      temp.value = ['']
      if (props.title) {
        typeTitle(props.title)
      }
    })
    ```

    不再需要 setTimeout 解决 title 值在 onActivated 钩子中过时的问题，直接使用 watch 监听 title 保证值为最新，并且初次加载触发 onActivated 时 title 值为 undefined，不需要考虑与 watch 冲突导致显示问题

  - 在 blog 组件中，设置 cover 的 key 值，防止因 keep-alive 导致的切换不同博客页面封面不变的问题

## day 24

- 新增了上传文件加载效果
- 新增图片加载失败图像

## day 25

- 新增了加载中动画

# 2024.12

## day 3

- 新增了首页 nav 栏选项悬浮效果
- 编写了标签分类页

## day 4

- 首页添加小图标

## day 16

- 修改博客列表的逻辑，在跳转至博客时不需要另发请求获取信息

# 2025.1

## day 27

- 引入 NProgress 库添加页面进度条动画
- 将 Blog 界面的目录移至了右侧，调整返回图标样式

# 2025.2

## day 8

- 修改了目录的样式使其能在超出屏幕时显示滚动条

## day 9

- 重写了目录样式
  - 增大了目录项间距
  - 添加了悬浮效果
  - 在鼠标移出目录区域后隐藏滚动条
- 完善了主页和归档界面的加载功能
  - 修复了在切换页时闪烁的问题
  - 给 Board 组件添加了三个具名插槽用于指定加载时播放动画的部分
- 添加了按键监听，在新建博客的时候可以通过 Ctrl S 来临时保存
